<!doctype html>

































<html
  class="not-ready lg:text-base"
  style="--bg: #faf8f1"
  lang="en-us"
  dir="ltr"
>
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>AndroidStudio - Nitta Labo Tutorial</title>

  
  <meta name="theme-color" />

  
  
  
  
  <meta name="description" content="手順を説明します🐘
・
・
・
🌷 NewProjectを押します

・
・
・
🌷 Empty Views Activity を押します

・
・
・
🌷 Nameにタイトルを入力
🌷 Build configuration languageをKotlinにする
🌷 Minimum SDKを API30 にする

・
・
・
🌷 左上がProjectとなっていますが、準備中なので、「Android」と表示されるまで待ちます

・
・
・
🌷 今、右で表示されている MainActivity.java のファイルの位置を確認します
🌷 ＞をクリックしていきます

・
・
・
🌷 Androidでは画面のことをActivityといいます
🌷 １つの画面ごとに [画面名]Activity.java と、 activity_[画面名].xml の2つを作ります
🌷 プロジェクトツールウィンドウ（左の部分）を見ると、app/java/com/example/lessonに MainActivity.java があることが分かります。
🌷 次に、activity_main.xml を押しましょう

・
・
・
🌷このxmlでは、一つの画面のレイアウトをいじります。（後で戻ってくるので理解はざっくりでok）

・
・
・
🌷 プロジェクト全体をコンパイルすることをビルドといいます
（コンパイルとは、コードを機械言語に変換することだが、javaの場合はコードと機械言語の中間に値する中間言語に変換する）
🌷 🐘build.gradle.ktsにはビルドの設定と、使用するライブラリが書かれています。
🌷 今回は通信をするためにretrofit2というライブラリを使うので、これから設定していきます。
🌷 それでは、build.gradle.kts をあけます。

・
・
・
🌷 retrofitをダウンロードできるように以下を追加します。
🌷 エラーが出ますが、右上の 🐘を押すとビルドされ、エラーは消えます。

・
・
・
🌷 次に MainActivity の名前を SignUpActivity に変えます。
🌷 figmaでは３つの画面を作りましたね
🌷 後ほど、SettingsActivity.java や AccountListActivity.java も作成します。

・
・
・
🌷  MainActivityを右クリックして、Refactorを押し、Renameを押します。

・
・
・
🌷 すると以下の画面が出てくるので、figmaに設定したのと同じ名前（にしたら分かりやすい）に変更します。
～単語の先頭は大文字にするのが一般的～

・
・
・
🌷 同じように、レイアウトの名前も分かりやすいように変えます。

・
・
・
🌷mainの部分をsign_upなどと分かりやすいように変えます。
～単語の先頭は小文字にし、大文字の前に_を入れるのが一般的（画像は_が入ってないけど無視してください）～

・
・
・
🌷 次に、com/example/lessonの下にPakageをviews,models,restの3つ作ります。
🌷 理由は、後でファイルを探すときに困るので、整理するために作っておきます。

・
・
・
🌷 まず、viewsパッケージを作ります。

・
・
・
🌷viewsというPackageにSignUpActivityをドラック＆ドロップする。（viewの中に入れる）

・
・
・
🌷 Refactorを押す

・
・
・
🌷 次にviewsと同じ階層にmodelsパッケージを作りたいです。
🌷 com.example.lesson.viewsとあるが、お構いなしに右クリックを押す。

・
・
・
🌷 com.example.lesson.viewsの、viewsを消して、modelsと書き換えることで、同じ階層にPackageが作られます。

・
・
・
🌷 modelパッケージの中にはAccount.javaを作ります。

・
・
・
🌷 Accountと入力

・
・
・
🌷 Account.javaには、Intellijに書かれたAccount.javaのコードをそのまま貼り付ける
🌷 ↓はIntelij

・
・
・
🌷 次にviewsやmodelsと同じ階層にrestパッケージを作りたいです。
🌷 com.example.lessonを右クリックする。

・
・
・
🌷 restと入力

・
・
・
🌷 restパッケージの中にはAccountRest.javaを作る

・
・
・
🌷 AccountRestと入力し、Interfaceを選択する

・
・
・
🌷 作られました(o^―^o)ﾆｺ

・
・
・
🌷 ここでは、IntellijのAccountRestと対応するように書いていく
🌷 IntelijではFormParamと書かれているがAndroidStudioではFieldと書く

・
・
・
🌷 activity.sign_up_xmlで画面が小さいなぁって思ったら、ctrl押しながらカーソルころころすると、

・
・
・
🌷 アップできます(o^―^o)ﾆｺ

・
・
・
🌷 左側のButtonやTextBoxを引っ張ってきて配置できるので、

・
・
・
🌷 figma参考にしながらこのような画面を作る

・
・
・
🌷 Buttonを選択しているとき、右のtextでRegisterと打ち、Enterを押すと、

・
・
・
🌷 ボタンにはRegisterと表示される
🌷 右のidにはRegisterbuttonなどと入力しておく。（後で使う）

・
・
・
🌷 次に、ボタンやテキストは、選択したときに出てくる青い点を縦横右左に引っ張って、端にくっつける

・
・
・
🌷 くっつけた状態で配置したい位置に配置する

・
・
・
🌷 テキストボックスも同じようにtextをSignUpに変え、idもSignUpなどとし、Refactorを押す

・
・
・
🌷 このようになっていたらOK

・
・
・
🌷 acitvity_sign_up.xmlの、Codeの方を選ぶと、このようなコードが書かれている
🌷 以下の部分でSignUpのテキストのことが書かれている
🌷 以下のように android:textAlignment=&ldquo;center&quot;を入れると、右でも左でもなく真ん中に来てくれる

・
・
・
🌷 android:textColor=&quot;#000000&rdquo;  色が黒にできる
🌷 android:textSize=&ldquo;38sp&rdquo;  テキストのサイズを調節できる
🌷 android:textStyle=&ldquo;bold&rdquo;  文字が太くなる

・
・
・
🌷 Designに戻るとこんな風に表示される

・
・
・
🌷 ここはmatch_parentにする

・
・
・
🌷 次に入力画面を作りたいとき、Text の Plain Text を画面に引っ張ってくる

・
・
・
🌷 android:hint=&quot; Username&quot; 薄く入力内容のヒントを書くときこのように書く
🌷 textは消す

・
・
・
🌷 UsernameとPasswordそれぞれにidを設定し、壁に固定して、以下のようになるとOK

・
・
・
🌷 空のテキストボックスも作る。これはエラーを表示させる場所。idも設定する

・
・
・
🌷 次に、SettingActivityを作りたい

・
・
・
🌷 SignUpActivityを選択した状態で、File → New Activity → Empty Views Activityを押す
🌷 この作り方だと、javaファイルだけでなく、xmlファイルも同時に作ってくれる👏	　　

・
・
・
🌷 同時にAccountsListActivityも作る
🌷 以下のようになれば正解

・
・
・
🌷 activity_settings.xmlをfigmaを見ながら作る

・
・
・
🌷 パスワード変更のボタンを忘れていたので少しレイアウトが変わりました笑
🌷 こちらを見よう見まねで作ってみましょう

・
・
・
🌷 次に、SignUpActivityに戻り、registerボタンを押すとSettings画面に遷移するようにする
🌷 最初はこのようになっているはずだが、少なかったら以下のようにする

・
・
・
🌷 以下のコードを追加する
" />
  <meta name="author" content="amika uemura" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="http://localhost:1313/main.min.css" />

  
  
  
  
  
  <link rel="preload" as="image" href="http://localhost:1313/theme.png" />

  
  
  
  
  

  
  
  

  
  
  <script
    defer
    src="http://localhost:1313/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  

  
  
  

  
  <link
    rel="icon"
    href="http://localhost:1313/favicon.ico"
  />
  <link
    rel="apple-touch-icon"
    href="http://localhost:1313/apple-touch-icon.png"
  />

  
  <meta name="generator" content="Hugo 0.140.1">

  
  
  
</head>

  <body class="text-black duration-200 ease-out dark:text-white">
    <header class="mx-auto flex h-[4.5rem] max-w-[--w] px-8 lg:justify-center">
  <div class="relative z-50 ltr:mr-auto rtl:ml-auto flex items-center">
    <a class="-translate-y-[1px] text-2xl font-medium" href="http://localhost:1313/"
      >Nitta Labo Tutorial</a
    >
    <div
      class="btn-dark text-[0] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"
      role="button"
      aria-label="Dark"
    ></div>
  </div>

  <div
    class="btn-menu relative z-50 ltr:-mr-8 rtl:-ml-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
    role="button"
    aria-label="Menu"
  ></div>

  

  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = '#faf8f1'.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"
  >
    
    

    
  </div>
</header>


    <main
      class="prose prose-neutral relative mx-auto min-h-[calc(100vh-9rem)] max-w-[--w] px-8 pb-16 pt-14 dark:prose-invert"
    >
      

<article>
  <header class="mb-14">
    <h1 class="!my-0 pb-2.5">AndroidStudio</h1>

    
    <div class="text-xs antialiased opacity-60">
      
      <time>Mar 5, 2019</time>
      
      
      
      
      <span class="mx-1">&middot;</span>
      <span>amika uemura</span>
      
    </div>
    
  </header>

  <section><p>手順を説明します🐘<br>
・<br>
・<br>
・<br>
🌷 NewProjectを押します<br>
<img src="http://localhost:1313/images/app1.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 Empty Views Activity を押します<br>
<img src="http://localhost:1313/images/app2.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 Nameにタイトルを入力<br>
🌷 Build configuration languageをKotlinにする<br>
🌷 Minimum SDKを API30 にする<br>
<img src="http://localhost:1313/images/app3.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 左上がProjectとなっていますが、準備中なので、「Android」と表示されるまで待ちます<br>
<img src="http://localhost:1313/images/app4.png" alt="images">
・<br>
・<br>
・<br>
🌷 今、右で表示されている MainActivity.java のファイルの位置を確認します<br>
🌷 ＞をクリックしていきます
<img src="http://localhost:1313/images/app5.png" alt="images">
・<br>
・<br>
・<br>
🌷 Androidでは画面のことをActivityといいます<br>
🌷 １つの画面ごとに [画面名]Activity.java と、 activity_[画面名].xml の2つを作ります<br>
🌷 プロジェクトツールウィンドウ（左の部分）を見ると、app/java/com/example/lessonに MainActivity.java があることが分かります。<br>
🌷 次に、activity_main.xml を押しましょう</p>
<p><img src="http://localhost:1313/images/app6.png" alt="images">
・<br>
・<br>
・<br>
🌷このxmlでは、一つの画面のレイアウトをいじります。（後で戻ってくるので理解はざっくりでok）
<img src="http://localhost:1313/images/app7.png" alt="images">
・<br>
・<br>
・<br>
🌷 プロジェクト全体をコンパイルすることをビルドといいます<br>
（コンパイルとは、コードを機械言語に変換することだが、javaの場合はコードと機械言語の中間に値する中間言語に変換する）<br>
🌷 🐘build.gradle.ktsにはビルドの設定と、使用するライブラリが書かれています。<br>
🌷 今回は通信をするためにretrofit2というライブラリを使うので、これから設定していきます。<br>
🌷 それでは、build.gradle.kts をあけます。<br>
<img src="http://localhost:1313/images/app8.png" alt="images">
・<br>
・<br>
・<br>
🌷 retrofitをダウンロードできるように以下を追加します。<br>
🌷 エラーが出ますが、右上の 🐘を押すとビルドされ、エラーは消えます。
<img src="http://localhost:1313/images/app55.png" alt="images">
・<br>
・<br>
・<br>
🌷 次に MainActivity の名前を SignUpActivity に変えます。<br>
🌷 figmaでは３つの画面を作りましたね<br>
🌷 後ほど、SettingsActivity.java や AccountListActivity.java も作成します。
<img src="http://localhost:1313/images/app56.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷  MainActivityを右クリックして、Refactorを押し、Renameを押します。
<img src="http://localhost:1313/images/app11.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 すると以下の画面が出てくるので、figmaに設定したのと同じ名前（にしたら分かりやすい）に変更します。<br>
～単語の先頭は大文字にするのが一般的～<br>
<img src="http://localhost:1313/images/app12.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 同じように、レイアウトの名前も分かりやすいように変えます。
<img src="http://localhost:1313/images/app13.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷mainの部分をsign_upなどと分かりやすいように変えます。<br>
～単語の先頭は小文字にし、大文字の前に_を入れるのが一般的（画像は_が入ってないけど無視してください）～<br>
<img src="http://localhost:1313/images/app14.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 次に、com/example/lessonの下にPakageをviews,models,restの3つ作ります。<br>
🌷 理由は、後でファイルを探すときに困るので、整理するために作っておきます。<br>
<img src="http://localhost:1313/images/app15.png" alt="images">
・<br>
・<br>
・<br>
🌷 まず、viewsパッケージを作ります。
<img src="http://localhost:1313/images/app16.png" alt="images">
・<br>
・<br>
・<br>
🌷viewsというPackageにSignUpActivityをドラック＆ドロップする。（viewの中に入れる）
<img src="http://localhost:1313/images/app17.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 Refactorを押す<br>
<img src="http://localhost:1313/images/app18.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 次にviewsと同じ階層にmodelsパッケージを作りたいです。<br>
🌷 com.example.lesson.viewsとあるが、お構いなしに右クリックを押す。
<img src="http://localhost:1313/images/app20.png" alt="images">
・<br>
・<br>
・<br>
🌷 com.example.lesson.viewsの、viewsを消して、modelsと書き換えることで、同じ階層にPackageが作られます。
<img src="http://localhost:1313/images/app21.png" alt="images">
・<br>
・<br>
・<br>
🌷 modelパッケージの中にはAccount.javaを作ります。
<img src="http://localhost:1313/images/app23.png" alt="images">
・<br>
・<br>
・<br>
🌷 Accountと入力
<img src="http://localhost:1313/images/app24.png" alt="images">
・<br>
・<br>
・<br>
🌷 Account.javaには、Intellijに書かれたAccount.javaのコードをそのまま貼り付ける<br>
🌷 ↓はIntelij
<img src="http://localhost:1313/images/app80.png" alt="images">
・<br>
・<br>
・<br>
🌷 次にviewsやmodelsと同じ階層にrestパッケージを作りたいです。<br>
🌷 com.example.lessonを右クリックする。
<img src="http://localhost:1313/images/app25.png" alt="images">
・<br>
・<br>
・<br>
🌷 restと入力
<img src="http://localhost:1313/images/app26.png" alt="images">
・<br>
・<br>
・<br>
🌷 restパッケージの中にはAccountRest.javaを作る
<img src="http://localhost:1313/images/app27.png" alt="images">
・<br>
・<br>
・<br>
🌷 AccountRestと入力し、Interfaceを選択する
<img src="http://localhost:1313/images/app28.png" alt="images">
・<br>
・<br>
・<br>
🌷 作られました(o^―^o)ﾆｺ
<img src="http://localhost:1313/images/app29.png" alt="images">
・<br>
・<br>
・<br>
🌷 ここでは、IntellijのAccountRestと対応するように書いていく<br>
🌷 IntelijではFormParamと書かれているがAndroidStudioではFieldと書く
<img src="http://localhost:1313/images/app85.png" alt="images">
・<br>
・<br>
・<br>
🌷 activity.sign_up_xmlで画面が小さいなぁって思ったら、ctrl押しながらカーソルころころすると、
<img src="http://localhost:1313/images/app30.png" alt="images">
・<br>
・<br>
・<br>
🌷 アップできます(o^―^o)ﾆｺ
<img src="http://localhost:1313/images/app31.png" alt="images">
・<br>
・<br>
・<br>
🌷 左側のButtonやTextBoxを引っ張ってきて配置できるので、<br>
<img src="http://localhost:1313/images/app32.png" alt="images">
・<br>
・<br>
・<br>
🌷 figma参考にしながらこのような画面を作る
<img src="http://localhost:1313/images/app33.png" alt="images">
・<br>
・<br>
・<br>
🌷 Buttonを選択しているとき、右のtextでRegisterと打ち、Enterを押すと、<br>
<img src="http://localhost:1313/images/app34.png" alt="images">
・<br>
・<br>
・<br>
🌷 ボタンにはRegisterと表示される<br>
🌷 右のidにはRegisterbuttonなどと入力しておく。（後で使う）
<img src="http://localhost:1313/images/app35.png" alt="images">
・<br>
・<br>
・<br>
🌷 次に、ボタンやテキストは、選択したときに出てくる青い点を縦横右左に引っ張って、端にくっつける
<img src="http://localhost:1313/images/app36.png" alt="images">
・<br>
・<br>
・<br>
🌷 くっつけた状態で配置したい位置に配置する<br>
<img src="http://localhost:1313/images/app37.png" alt="images">
・<br>
・<br>
・<br>
🌷 テキストボックスも同じようにtextをSignUpに変え、idもSignUpなどとし、Refactorを押す<br>
<img src="http://localhost:1313/images/app38.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 このようになっていたらOK
<img src="http://localhost:1313/images/app39.png" alt="images">
・<br>
・<br>
・<br>
🌷 acitvity_sign_up.xmlの、Codeの方を選ぶと、このようなコードが書かれている<br>
🌷 以下の部分でSignUpのテキストのことが書かれている<br>
🌷 以下のように android:textAlignment=&ldquo;center&quot;を入れると、右でも左でもなく真ん中に来てくれる<br>
<img src="http://localhost:1313/images/app40.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 android:textColor=&quot;#000000&rdquo;  色が黒にできる<br>
🌷 android:textSize=&ldquo;38sp&rdquo;  テキストのサイズを調節できる<br>
🌷 android:textStyle=&ldquo;bold&rdquo;  文字が太くなる
<img src="http://localhost:1313/images/app42.png" alt="images">
・<br>
・<br>
・<br>
🌷 Designに戻るとこんな風に表示される
<img src="http://localhost:1313/images/app43.png" alt="images">
・<br>
・<br>
・<br>
🌷 ここはmatch_parentにする
<img src="http://localhost:1313/images/app44.png" alt="images">
・<br>
・<br>
・<br>
🌷 次に入力画面を作りたいとき、Text の Plain Text を画面に引っ張ってくる
<img src="http://localhost:1313/images/app45.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 android:hint=&quot; Username&quot; 薄く入力内容のヒントを書くときこのように書く<br>
🌷 textは消す<br>
<img src="http://localhost:1313/images/app48.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 UsernameとPasswordそれぞれにidを設定し、壁に固定して、以下のようになるとOK
<img src="http://localhost:1313/images/app50.png" alt="images">
・<br>
・<br>
・<br>
🌷 空のテキストボックスも作る。これはエラーを表示させる場所。idも設定する
<img src="http://localhost:1313/images/app53.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 次に、SettingActivityを作りたい<br>
<img src="http://localhost:1313/images/app33.png" alt="images">
・<br>
・<br>
・<br>
🌷 SignUpActivityを選択した状態で、File → New Activity → Empty Views Activityを押す<br>
🌷 この作り方だと、javaファイルだけでなく、xmlファイルも同時に作ってくれる👏	　　
<img src="http://localhost:1313/images/app57.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 同時にAccountsListActivityも作る<br>
🌷 以下のようになれば正解<br>
<img src="http://localhost:1313/images/app81.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 activity_settings.xmlをfigmaを見ながら作る
<img src="http://localhost:1313/images/app33.png" alt="images">
・<br>
・<br>
・<br>
🌷 パスワード変更のボタンを忘れていたので少しレイアウトが変わりました笑<br>
🌷 こちらを見よう見まねで作ってみましょう<br>
<img src="http://localhost:1313/images/app86.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 次に、SignUpActivityに戻り、registerボタンを押すとSettings画面に遷移するようにする<br>
🌷 最初はこのようになっているはずだが、少なかったら以下のようにする
<img src="http://localhost:1313/images/app64.png" alt="images"><br>
・<br>
・<br>
・<br>
🌷 以下のコードを追加する<br>
<img src="http://localhost:1313/images/app65.png" alt="images"></p>
<p>🌷 findViewByIdメソッド：<br>
XMLレイアウトファイルで定義されたボタンのIDを取得します</p>
<p>🌷 (Button)：<br>
取得したビュー（View オブジェクト）を Button 型にキャストする必要があります。
これは、findViewById が View 型を返すためです。</p>
<p>🌷 button_register：<br>
取得したボタンを操作するために button_register という名前の変数に代入しています。
この変数を使ってボタンに機能を追加します。
・<br>
・<br>
・</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>button_register.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">new</span> View.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// LoginActivity に遷移するための Intent を作成</span>
</span></span><span style="display:flex;"><span>        Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent(CurrentActivity.<span style="color:#a6e22e">this</span>, LoginActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>        startActivity(intent); <span style="color:#75715e">// 遷移を実行</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p>🌷 button_register.setOnClickListenerメソッド:</p>
<p>このメソッドは、ボタンがクリックされたときに実行する処理（クリックリスナー）を設定します。</p>
<p>🌷 @Override:</p>
<p>onClick メソッドをオーバーライドしています。<br>
@Override と書くことで、「元々用意された『onClick』の動きを上書きして自分で作り直してますよ！」とプログラムに伝える。そうすることで、onClickのスペルミスによって新しいメソッドが作られてしまうことを防げる</p>
<p>🌷 onClick(View view):</p>
<p>ボタンがクリックされるとこのメソッドが呼び出されます。
引数 view は、クリックされたビュー（この場合は button_register）を指します。</p>
<p>🌷 Intent:</p>
<p>Intent は、Android でアクティビティ（画面）間の通信を行う仕組みです。このコードでは、現在のアクティビティ（CurrentActivity）から別のアクティビティ（LoginActivity）に遷移するための指示を Intent を使って作成しています。</p>
<p>・<br>
・<br>
・<br>
🌷 赤くなっている部分をなくすために以下のようにimport文を追加する</p>
<p><img src="http://localhost:1313/images/app66.png" alt="images"></p>
<p>🌷 動かす仮想マシーンを選択する<br>
<img src="http://localhost:1313/images/app67.png" alt="images"><br>
・<br>
・<br>
・
<img src="http://localhost:1313/images/app88.png" alt="images">
🌷 これで実行▷を押し、ユーザーネームなどは触らず、Registerボタンの押し、Settings画面に遷移するとOK
<img src="http://localhost:1313/images/app82.png" alt="images">
・<br>
・<br>
・ <br>
🌷 次に、サーバー（intellij）と通信できるようにするコードを追加し、SignUp時に、account_idとpasswordをサーバに保存してもらえるようにする<br>
🌷 まず、以下を書く
<img src="http://localhost:1313/images/app83.png" alt="images">
🌷 AccountsRest accountsRest = retrofit.create(AccountsRest.class);<br>
🌷 この行を書くことで<br>
🌷 accountsRest を使うと、サーバーにデータを送る、サーバーからデータを受け取るといった通信処理を簡単に書けるようになります。<br>
・<br>
・<br>
・<br>
🌷 次に以下を書く<br>
🌷 ボタンがクリックされたときに、editidという変数は場所を示す情報が入っており、getTextを使ってaccount_idという変数にはidが取得される<br>
🌷 パスワードも同様にpasswordという変数にidが取得される</p>
<p><img src="http://localhost:1313/images/app84.png" alt="images">
🌷 Call<!-- raw HTML omitted --> call = accountsRest.signup(account_id, password); は、<br>
🌷 AccountRestのCall<!-- raw HTML omitted --> signupの書き方とそろえる<br>
🌷 サーバーに「account_id と password を使って、新しいアカウントを作成してください！」とお願いする準備をしています。<br>
・<br>
・<br>
・</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> call.<span style="color:#a6e22e">enqueue</span>(<span style="color:#66d9ef">new</span> Callback<span style="color:#f92672">&lt;</span>Void<span style="color:#f92672">&gt;</span>() {  <span style="color:#75715e">// call.enqueueはリクエストをサーバーに送るよ！結果が返ってきたらこれをやってね」という動きを設定します。</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">@Override</span>  <span style="color:#75715e">// 元々用意された『onResponse』の動きを上書きして自分で作り直してますよ！」とプログラムに伝える。</span>
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onResponse</span>(Call<span style="color:#f92672">&lt;</span>Void<span style="color:#f92672">&gt;</span> call, Response<span style="color:#f92672">&lt;</span>Void<span style="color:#f92672">&gt;</span> response) {  <span style="color:#75715e">// サーバーから返事が返ってきた場合に呼ばれる。</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (response.<span style="color:#a6e22e">isSuccessful</span>()) {  <span style="color:#75715e">// さらに返事が「成功かどうか」</span>
</span></span><span style="display:flex;"><span>              Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent(SignUpActivity.<span style="color:#a6e22e">this</span>, SettingsActivity.<span style="color:#a6e22e">class</span>);  <span style="color:#75715e">// SettingsActivity に遷移</span>
</span></span><span style="display:flex;"><span>              intent.<span style="color:#a6e22e">putExtra</span>(<span style="color:#e6db74">&#34;account_id&#34;</span>, account_id);  <span style="color:#75715e">// account_idを乗せて次の画面に遷移する</span>
</span></span><span style="display:flex;"><span>              startActivity(intent);  <span style="color:#75715e">// intentを使って画面遷移</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onFailure</span>(Call<span style="color:#f92672">&lt;</span>Void<span style="color:#f92672">&gt;</span> call, Throwable t) { <span style="color:#75715e">// サーバーから返事が返ってこなかった場合に呼ばれる。</span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;!!!&#34;</span>);  <span style="color:#75715e">// コンソールに!!!と表示（Android画面ではない）</span>
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>        });
</span></span></code></pre></div><p>🌷 以上のコードを書くと、サインアップができるようになったので実行を押す<br>
・<br>
・<br>
・<br>
🌷 次に、Setting画面に現在のパスワードと新しいパスワードを正しく入力すると変更されるように以下の場所にコードを書いていきます<br>
<img src="http://localhost:1313/images/app84.png" alt="images">
🌷 以下のコードをonCreateメソッド内に書いてください<br>
🌷 ほとんどSignUpActivutyの応用なのでなにが書いてあるか読んでみましょう</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    String str_account_id <span style="color:#f92672">=</span> getIntent().<span style="color:#a6e22e">getStringExtra</span>(<span style="color:#e6db74">&#34;account_id&#34;</span>);
</span></span><span style="display:flex;"><span>    ((TextView) findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">account_id</span>)).<span style="color:#a6e22e">setText</span>(str_account_id);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//通信の初期化</span>
</span></span><span style="display:flex;"><span>    Retrofit retrofit <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Retrofit.<span style="color:#a6e22e">Builder</span>()
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">baseUrl</span>(<span style="color:#e6db74">&#34;http://10.0.2.2:8080/&#34;</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">addConverterFactory</span>(JacksonConverterFactory.<span style="color:#a6e22e">create</span>())
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">build</span>();
</span></span><span style="display:flex;"><span>    AccountsRest accountsRest <span style="color:#f92672">=</span> retrofit.<span style="color:#a6e22e">create</span>(AccountsRest.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// listボタンを押してlist画面に遷移</span>
</span></span><span style="display:flex;"><span>    Button button_list <span style="color:#f92672">=</span> (Button) findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">List</span>);
</span></span><span style="display:flex;"><span>    button_list.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">new</span> OnClickListener() {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>        Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent(SettingsActivity.<span style="color:#a6e22e">this</span>, AccountListActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>        startActivity(intent);
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// changeボタンを押してメッセージ表示</span>
</span></span><span style="display:flex;"><span>    Button button_change <span style="color:#f92672">=</span> (Button) findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">change</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    button_change.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">new</span> OnClickListener() {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        EditText pw <span style="color:#f92672">=</span> (EditText) findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">password</span>);
</span></span><span style="display:flex;"><span>        String oldpass <span style="color:#f92672">=</span> pw.<span style="color:#a6e22e">getText</span>().<span style="color:#a6e22e">toString</span>().<span style="color:#a6e22e">trim</span>();
</span></span><span style="display:flex;"><span>        EditText newpw <span style="color:#f92672">=</span> (EditText) findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">newpassword</span>);
</span></span><span style="display:flex;"><span>        String newpass <span style="color:#f92672">=</span> newpw.<span style="color:#a6e22e">getText</span>().<span style="color:#a6e22e">toString</span>().<span style="color:#a6e22e">trim</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Call<span style="color:#f92672">&lt;</span>Void<span style="color:#f92672">&gt;</span> call <span style="color:#f92672">=</span> accountsRest.<span style="color:#a6e22e">changePW</span>(str_account_id, newpass, oldpass);
</span></span><span style="display:flex;"><span>        call.<span style="color:#a6e22e">enqueue</span>(<span style="color:#66d9ef">new</span> Callback<span style="color:#f92672">&lt;</span>Void<span style="color:#f92672">&gt;</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onResponse</span>(Call<span style="color:#f92672">&lt;</span>Void<span style="color:#f92672">&gt;</span> call, Response<span style="color:#f92672">&lt;</span>Void<span style="color:#f92672">&gt;</span> response) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (response.<span style="color:#a6e22e">isSuccessful</span>()) {
</span></span><span style="display:flex;"><span>              ((TextView) findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">message</span>)).<span style="color:#a6e22e">setText</span>(<span style="color:#e6db74">&#34;パスワードが変更されました&#34;</span>);
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>              ((TextView) findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">message</span>)).<span style="color:#a6e22e">setText</span>(<span style="color:#e6db74">&#34;パスワードが違います&#34;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onFailure</span>(Call<span style="color:#f92672">&lt;</span>Void<span style="color:#f92672">&gt;</span> call, Throwable t) {
</span></span><span style="display:flex;"><span>            ((TextView) findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">message</span>)).<span style="color:#a6e22e">setText</span>(<span style="color:#e6db74">&#34;Failure&#34;</span>);
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    });
</span></span></code></pre></div><p>・<br>
・<br>
・<br>
🌷 AccountListActivityにも以下をonCreate内に追加します</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//通信の初期化</span>
</span></span><span style="display:flex;"><span>    Retrofit retrofit <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Retrofit.<span style="color:#a6e22e">Builder</span>()
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">baseUrl</span>(<span style="color:#e6db74">&#34;http://10.0.2.2:8080/&#34;</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">addConverterFactory</span>(JacksonConverterFactory.<span style="color:#a6e22e">create</span>())
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">build</span>();
</span></span><span style="display:flex;"><span>    AccountsRest accountsRest <span style="color:#f92672">=</span> retrofit.<span style="color:#a6e22e">create</span>(AccountsRest.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>    Call<span style="color:#f92672">&lt;</span>Set<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;&gt;</span> call <span style="color:#f92672">=</span> accountsRest.<span style="color:#a6e22e">getAccounts</span>();
</span></span><span style="display:flex;"><span>    call.<span style="color:#a6e22e">enqueue</span>(<span style="color:#66d9ef">new</span> Callback<span style="color:#f92672">&lt;</span>Set<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;&gt;</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onResponse</span>(Call<span style="color:#f92672">&lt;</span>Set<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;&gt;</span> call, Response<span style="color:#f92672">&lt;</span>Set<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;&gt;</span> response) {
</span></span><span style="display:flex;"><span>        ((TextView) findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">accounts</span>)).<span style="color:#a6e22e">setText</span>(response.<span style="color:#a6e22e">body</span>().<span style="color:#a6e22e">toString</span>());
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onFailure</span>(Call<span style="color:#f92672">&lt;</span>Set<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;&gt;</span> call, Throwable t) {
</span></span><span style="display:flex;"><span>        ((TextView) findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">accounts</span>)).<span style="color:#a6e22e">setText</span>(<span style="color:#e6db74">&#34;通信失敗&#34;</span>);
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    });
</span></span></code></pre></div><p>🌷 実行しましょう<br>
<img src="http://localhost:1313/images/app89.png" alt="images">
<img src="http://localhost:1313/images/app90.png" alt="images">
<img src="http://localhost:1313/images/app91.png" alt="images">
<img src="http://localhost:1313/images/app92.png" alt="images">
<img src="http://localhost:1313/images/app93.png" alt="images">
<img src="http://localhost:1313/images/app94.png" alt="images">
🌷 お疲れ様です。課題は以上です。</p>

</section>

  
  
  <footer class="mt-12 flex flex-wrap">
     
    <a
      class="mb-1.5 ltr:mr-1.5 rtl:ml-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="http://localhost:1313/tags/emoji"
      >emoji</a
    >
    
  </footer>
  

  
  
  
  
  <nav
    class="mt-24 flex overflow-hidden rounded-xl bg-black/[3%] text-lg !leading-[1.2] *:flex *:w-1/2 *:items-center *:p-5 *:font-medium *:no-underline dark:bg-white/[8%] [&>*:hover]:bg-black/[2%] dark:[&>*:hover]:bg-white/[3%]"
  >
    
    <a class="ltr:pr-3 rtl:pl-3" href="http://localhost:1313/post/math-typesetting/"
      ><span class="ltr:mr-1.5 rtl:ml-1.5">←</span><span>Postman</span></a
    >
    
    
  </nav>
  
  

  
  

  
  

  


  
</article>


    </main>

    <footer
  class="mx-auto flex h-[4.5rem] max-w-[--w] items-center px-8 text-xs uppercase tracking-wider opacity-60"
>
  <div class="mr-auto">
  
    &copy; 2024
    <a class="link" href="http://localhost:1313/">Nitta Labo Tutorial</a>
  
  </div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    >powered by hugo️️</a
  >️
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    >hugo-paper</a
  >
</footer>

  </body>
</html>
